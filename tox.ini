[tox]
envlist = 
    py313
    lint
    type-check
    jupyter
isolated_build = True

[testenv]
description = run tests with pytest
allowlist_externals =
    uv
    coverage
commands =
    uv pip install -e .
    uv run pytest {posargs} tests --cov-report term --cov=src
    coverage html --fail-under=60
setenv = 
    PYTHONPATH = {toxinidir}/src

[flake8]
max-line-length = 88
extend-ignore = E203, W503
exclude = .git,__pycache__,.tox,.venv,venv

[testenv:jupyter]
description = install jupyter dependencies and start jupyter lab
allowlist_externals =
    uv
    jupyter
commands =
    uv pip install -e .
    uv run jupyter lab --version
    uv run jupyter lab --help
setenv = 
    PYTHONPATH = {toxinidir}/src

[mypy]
python_version = 3.13
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true
